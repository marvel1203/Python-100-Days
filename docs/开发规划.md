## 🎯 项目整体架构

**前后端分离架构**
- **后端**: Django + Django REST Framework (DRF),端口 8020
- **前端**: Vue 3 + Element Plus / Ant Design Vue，端口 9540
- **数据库**: MySQL + Redis
- **部署**: Docker + Nginx

---

## 📋 核心功能模块规划

### 1. **用户系统模块**
- 用户注册/登录（支持第三方登录）
- 个人中心（学习进度、收藏、笔记）
- 权限管理（学员、讲师、管理员）

**对应学习内容**:
- Day46-60: Django 用户认证
- Day54-55: JWT 认证
- Day49: Cookie 和 Session

### 2. **课程内容模块**
- **课程分类**: 基础篇(Day01-20)、应用篇(Day21-30)、进阶篇等
- **课程详情**: 每日课程的 Markdown 渲染
- **代码示例**: 语法高亮展示
- **资源下载**: 代码文件、PDF等

**对应学习内容**:
- Day47: Django 模型设计
- Day53: 前后端分离开发
- Day48: 静态资源处理

### 3. **在线编程练习模块**
- 代码编辑器（Monaco Editor / CodeMirror）
- 代码在线运行（Docker 沙箱环境）
- 测试用例验证
- 提交历史记录

**对应学习内容**:
- Day92: Docker 容器技术
- Day58: 异步任务（Celery）

### 4. **学习进度管理**
- 打卡签到
- 学习进度可视化（ECharts）
- 学习计划制定
- 完成度统计

**对应学习内容**:
- Day50: 报表生成
- Day78-80: 数据可视化

### 5. **社区互动模块**
- 问答论坛
- 学习笔记分享
- 评论点赞
- 代码片段分享

**对应学习内容**:
- Day48: Ajax 请求
- Day52: 中间件应用

---

## 🗄️ 数据库设计（核心表）

```python
# 课程模块
class CourseCategory(models.Model):
    """课程分类（如：语言基础、数据分析、机器学习）"""
    name = models.CharField(max_length=50)
    order = models.IntegerField()

class Course(models.Model):
    """课程（如：Day01-20 Python语言基础）"""
    category = models.ForeignKey(CourseCategory)
    title = models.CharField(max_length=200)
    description = models.TextField()
    day_range = models.CharField(max_length=20)  # "Day01-20"

class Lesson(models.Model):
    """每日课程"""
    course = models.ForeignKey(Course)
    day_number = models.IntegerField()
    title = models.CharField(max_length=200)
    content = models.TextField()  # Markdown 内容
    code_url = models.URLField()  # GitHub 代码链接

# 练习模块
class Exercise(models.Model):
    """编程练习"""
    lesson = models.ForeignKey(Lesson)
    title = models.CharField(max_length=200)
    difficulty = models.CharField(max_length=20)
    problem_desc = models.TextField()
    test_cases = models.JSONField()

# 用户学习记录
class UserProgress(models.Model):
    """学习进度"""
    user = models.ForeignKey(User)
    lesson = models.ForeignKey(Lesson)
    status = models.CharField(max_length=20)  # 未开始/学习中/已完成
    completed_at = models.DateTimeField()
```

---

## 🔧 技术实现要点

### 后端 (Django)

**1. 项目结构**
```
backend/
├── apps/
│   ├── courses/        # 课程管理
│   ├── users/          # 用户系统
│   ├── exercises/      # 练习系统
│   ├── community/      # 社区模块
│   └── analytics/      # 数据统计
├── common/             # 公共模块
├── config/             # 配置文件
└── requirements.txt
```

**2. 关键配置**
```python
# settings.py
INSTALLED_APPS = [
    'rest_framework',
    'corsheaders',
    'django_filters',
    'drf_yasg',  # API 文档
]

# Redis 缓存
CACHES = {
    'default': {
        'BACKEND': 'django_redis.cache.RedisCache',
        'LOCATION': 'redis://127.0.0.1:6379/1',
    }
}

# Celery 异步任务
CELERY_BROKER_URL = 'redis://localhost:6379/0'
```

**3. API 设计示例**
```python
# courses/views.py
from rest_framework import viewsets
from django.core.cache import cache

class LessonViewSet(viewsets.ModelViewSet):
    queryset = Lesson.objects.all()
    serializer_class = LessonSerializer
    
    def retrieve(self, request, pk=None):
        # 缓存课程内容
        cache_key = f'lesson_{pk}'
        lesson = cache.get(cache_key)
        if not lesson:
            lesson = self.get_object()
            cache.set(cache_key, lesson, 3600)
        return Response(LessonSerializer(lesson).data)
```

### 前端 (Vue 3)

**1. 项目结构**
```
frontend/
├── src/
│   ├── views/
│   │   ├── Home.vue
│   │   ├── CourseList.vue
│   │   ├── LessonDetail.vue
│   │   ├── Exercise.vue
│   │   └── Community.vue
│   ├── components/
│   │   ├── CodeEditor.vue
│   │   ├── MarkdownViewer.vue
│   │   └── ProgressChart.vue
│   ├── api/            # API 封装
│   ├── store/          # Vuex/Pinia
│   └── router/
```

**2. 核心组件**
```vue
<!-- LessonDetail.vue -->
<template>
  <div class="lesson-detail">
    <h1>{{ lesson.title }}</h1>
    <MarkdownViewer :content="lesson.content" />
    <CodeEditor :code="lesson.example_code" />
    <el-button @click="markComplete">完成学习</el-button>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { getLessonDetail, updateProgress } from '@/api/courses'

const lesson = ref({})

onMounted(async () => {
  lesson.value = await getLessonDetail(route.params.id)
})
</script>
```

---

## 🚀 开发路线图

### Phase 1: MVP（2-3周）
1. Django 项目搭建 + DRF 配置
2. 课程模型设计和 API 开发
3. Vue 项目初始化 + 路由配置
4. 课程列表 + 详情页开发

### Phase 2: 核心功能（3-4周）
1. 用户认证系统（JWT）
2. 学习进度追踪
3. 在线代码编辑器集成
4. Markdown 内容渲染优化

### Phase 3: 高级特性（2-3周）
1. 代码在线运行（Docker）
2. 社区问答模块
3. 数据可视化仪表盘
4. 缓存优化（Redis）

### Phase 4: 部署上线（1-2周）
1. Docker 容器化
2. Nginx 配置
3. CI/CD 流程
4. 性能测试和优化

---

## 💡 技术亮点

1. **实时代码运行**: 使用 Docker 沙箱隔离执行用户代码
2. **智能推荐**: 基于学习进度推荐课程
3. **SSR 优化**: Nuxt.js 提升首屏加载速度（可选）
4. **PWA 支持**: 离线学习功能
5. **WebSocket**: 实时通知和聊天

---

## 📦 参考技术栈

| 类别 | 技术选型 |
|------|---------|
| 后端框架 | Django 4.x + DRF |
| 前端框架 | Vue 3 + Vite |
| UI 组件库 | Element Plus / Ant Design Vue |
| 状态管理 | Pinia |
| 代码编辑器 | Monaco Editor |
| Markdown | markdown-it / marked |
| 图表库 | ECharts / Chart.js |
| 数据库 | MySQL 8.0 + Redis 7.0 |
| 任务队列 | Celery + RabbitMQ |
| 部署 | Docker + Docker Compose + Nginx |